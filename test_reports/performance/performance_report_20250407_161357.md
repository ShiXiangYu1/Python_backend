# API性能测试报告

## 测试信息

- **测试时间**: 2025-04-07 16:12:53
- **测试环境**: Windows 10
- **处理器**: Intel64 Family 6 Model 142 Stepping 10, GenuineIntel
- **Python版本**: 3.8.20
- **测试端点数**: 3
- **最大并发数**: 50

## 总体性能评估

- **平均响应时间**: 1173.66ms
- **平均每秒请求数**: 183.74
- **性能评级**: F (不及格)
- **性能得分**: 54.26/100
- **建议**: 系统性能极差，建议重构架构或关键组件。

## 系统资源使用情况

- **平均CPU使用率**: 68.58%
- **最大CPU使用率**: 100.00%
- **平均内存使用率**: 93.89%
- **最大内存使用率**: 95.60%

## 各端点性能详情

### 获取当前用户

- **请求成功率**: 100.00%
- **平均响应时间**: 735.50ms
- **中位数响应时间**: 757.96ms
- **最短响应时间**: 264.25ms
- **最长响应时间**: 1226.64ms
- **95%响应时间**: 1191.05ms
- **每秒请求数(RPS)**: 207.81
- **响应时间标准差**: 94.10ms
- **变异系数**: 51.00%
- **稳定性评级**: 极不稳定

### 获取AI模型列表

- **请求成功率**: 100.00%
- **平均响应时间**: 1476.55ms
- **中位数响应时间**: 1428.43ms
- **最短响应时间**: 783.70ms
- **最长响应时间**: 1976.72ms
- **95%响应时间**: 1950.16ms
- **每秒请求数(RPS)**: 167.64
- **响应时间标准差**: 147.19ms
- **变异系数**: 36.44%
- **稳定性评级**: 不稳定

### 健康检查

- **请求成功率**: 100.00%
- **平均响应时间**: 1308.93ms
- **中位数响应时间**: 1209.09ms
- **最短响应时间**: 924.12ms
- **最长响应时间**: 2062.09ms
- **95%响应时间**: 1993.96ms
- **每秒请求数(RPS)**: 175.75
- **响应时间标准差**: 143.95ms
- **变异系数**: 45.12%
- **稳定性评级**: 不稳定

## 性能瓶颈分析

- **最慢端点**: 获取AI模型列表 (平均响应时间: 1476.55ms)
- **吞吐量最低端点**: 获取AI模型列表 (RPS: 167.64)

- **CPU使用率过高**: 测试过程中CPU使用率超过80%，可能是性能瓶颈
- **内存使用率过高**: 测试过程中内存使用率超过80%，可能需要优化内存使用

## 优化建议

1. **数据库优化**:
   - 检查并优化慢查询
   - 为频繁查询的字段添加索引
   - 考虑使用数据库连接池

2. **缓存策略**:
   - 对热点数据实施缓存
   - 使用Redis缓存查询结果
   - 实现HTTP响应缓存

3. **代码优化**:
   - 优化耗时的业务逻辑
   - 使用异步处理非关键路径操作
   - 减少不必要的数据库查询

4. **并发处理**:
   - 增加应用实例数
   - 调整Uvicorn工作进程数
   - 使用负载均衡器分散请求

5. **监控与告警**:
   - 实施实时性能监控
   - 设置性能指标告警
   - 定期进行压力测试

## 附件

- [性能测试结果CSV](performance_results.csv)
- [性能测试图表](performance_results.png)
